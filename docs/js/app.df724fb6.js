(function(e){function t(t){for(var a,i,c=t[0],s=t[1],u=t[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/textwg/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1eb9":function(e,t,n){},"377c":function(e,t,n){"use strict";n("3d27")},"3d27":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={id:"app"};function o(e,t){var n=Object(a["z"])("router-view");return Object(a["r"])(),Object(a["f"])("div",r,[Object(a["h"])(n)])}n("377c");var i=n("6b0d"),c=n.n(i);const s={},u=c()(s,[["render",o]]);var l=u,f=n("1da1"),d=(n("96cf"),n("5502")),p=n("bc3a"),m=n.n(p),b=Object(d["a"])({state:{m3:null,bid:null,manifest:{}},getters:{getCanvasById:function(e){return console.log("store: g: getCanvasById"),function(t){return e.manifest.sequences[0].canvases[t]["@id"]}},getManifestUri:function(e){return console.log("store: g: getManifestUri:",e.bid),"https://kotenseki.nijl.ac.jp/biblio/".concat(e.bid,"/manifest")},getManifest:function(e){return console.log("store: g: getManifest"),e.manifest}},mutations:{setM3:function(e,t){e.m3=t,console.log("store: m: setM3:",t)},setBid:function(e,t){e.bid=t,console.log("store: m: setBid:",t)},setManifest:function(e,t){e.manifest=t,console.log("store: m: setManifest:",t)}},actions:{setBid:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.getters,a("setBid",t),console.log(r.getManifestUri),n.next=5,m.a.get(r.getManifestUri);case 5:o=n.sent,console.log(o),a("setManifest",o.data);case 8:case"end":return n.stop()}}),n)})))()}}}),v=n("6c02");function g(e,t,n,r,o,i){var c=Object(a["z"])("ImageViewer");return Object(a["r"])(),Object(a["d"])(c)}var h={class:"miradorviewer"},j={class:"textviewer"};function O(e,t,n,r,o,i){var c=Object(a["z"])("mdicon"),s=Object(a["z"])("SelectButton"),u=Object(a["z"])("Mirador3"),l=Object(a["z"])("SplitterPanel"),f=Object(a["z"])("TextViewer"),d=Object(a["z"])("Splitter");return Object(a["r"])(),Object(a["f"])(a["a"],null,[Object(a["h"])(s,{modelValue:o.layout,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.layout=e}),options:o.layoutOptions,optionValue:"value"},{option:Object(a["G"])((function(e){return[Object(a["h"])(c,{name:e.option.icon},null,8,["name"])]})),_:1},8,["modelValue","options"]),Object(a["h"])(d,{layout:o.layout},{default:Object(a["G"])((function(){return[Object(a["h"])(l,null,{default:Object(a["G"])((function(){return[Object(a["g"])("div",h,[Object(a["h"])(u,{"mirador-id":"mirador",manifestURI:"manifestURI2"})])]})),_:1}),Object(a["h"])(l,null,{default:Object(a["G"])((function(){return[Object(a["g"])("div",j,[Object(a["h"])(f)])]})),_:1})]})),_:1},8,["layout"])],64)}var w=n("237b"),y=n("1e02"),I=["id"];function M(e,t,n,r,o,i){return Object(a["r"])(),Object(a["f"])("div",{id:this.miradorId,class:"mirador"},null,8,I)}var x=n("5530"),T={name:"Mirador3",components:{},props:["miradorId","manifestURI"],data:function(){return{}},methods:Object(x["a"])({},Object(d["b"])(["setM3"])),mounted:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("setBid",200003074);case 2:n=e.$store.getters.getManifestUri,a={},a[n]={provider:"NIJL"},r=window.Mirador.viewer({language:"ja",id:e.miradorId,window:{allowClose:!1,sideBarOpenByDefault:!0},manifests:a,windows:[{id:"default",loadedManifest:n,thumbnameilNavigationPosition:"far-bottom"}]}),e.setM3(r);case 7:case"end":return t.stop()}}),t)})))()}};n("accf");const _=c()(T,[["render",M],["__scopeId","data-v-4224cf5a"]]);var B=_,k={ref:"viewer",class:"tategaki"};function P(e,t,n,r,o,i){var c=Object(a["z"])("ScrollPanel");return Object(a["r"])(),Object(a["d"])(c,{ref:"sp",style:{width:"100%",height:"100%"}},{default:Object(a["G"])((function(){return[Object(a["g"])("div",k,null,512)]})),_:1},512)}n("ac1f"),n("5319");var S=n("c8c8"),C=n("ae1f"),E={name:"TextViewer",components:{ScrollPanel:C["a"]},data:function(){return{bid:200003074,CETEIcean:null}},computed:{m3:function(){return console.log(this.$store.state.m3,3),this.$store.state.m3},manifest:function(){return this.$store.state.manifest}},methods:{getCanvasById:function(e){return this.$store.getters.getCanvasById(e)},initCETEIcean:function(){this.CETEIcean=new S["a"]({ignoreFragmentId:!0});var e={tei:{lb:["<br />"],pb:['<a><img class="jumpTo" title="移動" data-facs="$@facs" src="images/book-open-page-variant-outline.svg" /></a><a title="新日本古典籍総合目録DBで開く" target="_blank" href="$@facs"><img src="images/open-in-new.svg" /></a>']}};this.CETEIcean.addBehaviors(e)},initText:function(){var e=this;m.a.get("texts/".concat(this.bid,".xml")).then((function(t){e.CETEIcean.makeHTML5(t.data,(function(t){e.$refs.viewer.append(t),window.x=e.$refs.sp.$refs.content;var n=e.$refs.sp.$refs.content;n.scrollLeft=n.scrollWidth,n.addEventListener("click",e.jumpToPage,!1)}))})).catch((function(e){console.log("TextViewer: axios: ",e)}))},jumpToPage:function(e){if(e.target.classList.contains("jumpTo")){var t=e.target.dataset.facs.replace(/^.*\//,"")-1,n=window.Mirador.actions.setCanvas("default",this.getCanvasById(t));this.m3.store.dispatch(n),e.preventDefault()}}},mounted:function(){this.initCETEIcean(),this.initText()}};n("a964");const $=c()(E,[["render",P],["__scopeId","data-v-33289bc4"]]);var z=$,V={name:"ImageViewer",components:{Splitter:w["a"],SplitterPanel:y["a"],Mirador3:B,TextViewer:z},data:function(){return{layout:"horizontal",layoutOptions:[{icon:"view-split-vertical",value:"horizontal"},{icon:"view-split-horizontal",value:"vertical"}],manifestURI:null,manifestData:null}}};n("7ace");const U=c()(V,[["render",O],["__scopeId","data-v-c43f4d0a"]]);var R=U,N={name:"Home",components:{ImageViewer:R}};const D=c()(N,[["render",g]]);var G=D,L=[{path:"/",name:"Home",component:G}],H=Object(v["a"])({history:Object(v["b"])("/textwg/"),routes:L}),J=H,F=n("4b99"),W=n("94ed"),q=n("9319"),A=n("bb57"),K=n("8398"),Q=n("a5af"),X=(n("c461"),n("e1ae"),n("4121"),n("22a3"),{accept:"はい",reject:"いいえ",choose:"選択",upload:"アップロード",cancel:"キャンセル",dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今日",clear:"クリア",weekHeader:"週",firstDayOfWeek:0,dateFormat:"yy/mm/dd",weak:"弱い",medium:"普通",strong:"強い",passwordPrompt:"パスワードを入力"});Object(a["c"])(l).use(b).use(J).use(F["a"],{icons:W}).use(q["a"],{locale:X}).component("Button",A["a"]).component("InputText",K["a"]).component("SelectButton",Q["a"]).mount("#app")},"7ace":function(e,t,n){"use strict";n("f7a4")},"8d42":function(e,t,n){},a964:function(e,t,n){"use strict";n("1eb9")},accf:function(e,t,n){"use strict";n("8d42")},f7a4:function(e,t,n){}});
//# sourceMappingURL=app.df724fb6.js.map