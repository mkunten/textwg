{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Mirador3.vue?c8e1","webpack:///./src/App.vue?f7c9","webpack:///./src/App.vue","webpack:///./src/App.vue?8ecf","webpack:///./src/store/index.js","webpack:///./src/views/Home.vue","webpack:///./src/components/ImageViewer.vue","webpack:///./src/components/Mirador3.vue","webpack:///./src/components/Mirador3.vue?640f","webpack:///./src/components/TextViewer.vue","webpack:///./src/components/Tei.vue","webpack:///./src/components/Tei.vue?32f6","webpack:///./src/components/TextViewer.vue?0938","webpack:///./src/components/ImageViewer.vue?5491","webpack:///./src/views/Home.vue?f63c","webpack:///./src/router/index.js","webpack:///./src/i18n/locale/ja.js","webpack:///./src/main.js","webpack:///./src/components/Tei.vue?2207","webpack:///./src/components/TeiNodes.vue?4877","webpack:///./src/components/TeiApp.vue?dddb","webpack:///./src/components/TeiNodes.vue?9f2e","webpack:///./src/components/ImageViewer.vue?7ad0","webpack:///./src/components/TeiApp.vue","webpack:///./src/components/TeiApp.vue?66ff","webpack:///./src/components/TeiNodes.vue","webpack:///./src/components/TeiNodes.vue?e9d7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","id","_createElementBlock","_createVNode","_component_router_view","__exports__","render","createStore","state","m3","bid","selectedText","m3Param","texts","provider","items","title","manifestURI","xmls","label","uri","getters","mutations","setM3","info","setSelectedText","text","setM3Param","actions","commit","_createElementVNode","class","_hoisted_1","_component_ImageViewer","_component_DropDown","$options","$event","options","optionLabel","optionGroupChildren","optionGroupLabel","_component_SelectButton","$data","optionValue","option","slotProps","_component_mdicon","icon","_component_Splitter","layout","_component_SplitterPanel","_component_Mirador3","mirador-id","_component_TextViewer","miradorId","props","computed","this","$store","methods","getM3Window","windowId","store","getState","windows","getM3ManifestJSON","manifests","manifestId","json","initM3","Mirador","viewer","language","sideBarOpenByDefault","miradorImageToolsPlugin","setM3Text","dispatch","addWindow","updateWindow","setM3CanvasById","setCanvas","setM3CanvasBySeqIdx","seqIdx","sequences","canvases","mounted","watch","handler","deep","style","_hoisted_5","_hoisted_7","_component_SideBar","visible","position","closeButton","_component_Accordion","multiple","activeIndex","lazy","_component_AccordionTab","header","_component_Card","content","_component_AutoComplete","suggestions","field","onComplete","onItemSelect","autoHighlight","completeOnFocus","forceSelection","placeholder","item","count","_Fragment","_toDisplayString","_hoisted_2","jsonPrettify","tnvResult","_hoisted_3","_hoisted_9","_hoisted_10","_hoisted_12","href","_hoisted_14","_hoisted_15","selectedXML","_hoisted_17","_hoisted_19","xmlJsGetObjectByTagname","onClick","visibleRight","_component_TabView","onTabChange","_renderList","xml","_createBlock","_component_TabPanel","_component_ScrollPanel","_component_Tei","el","elements","_component_TeiNodes","parents","components","TeiNodes","default","required","Array","debug","$el","parentNode","scrollWidth","scrollLeft","Accordion","AccordionTab","AutoComplete","Card","SideBar","ScrollPanel","TabPanel","TabView","Tei","tabActiveIndex","selectedXMLIndex","tnvFilter","tnvSuggestions","tnvSelected","selectedData","tnvSuggestionsAll","tei","list","concat","keys","xmlIDs","map","startsWith","log","xmlJsGetObjectsByTagname","resetText","idx","loadXML","provide","getXMLIDs","xmlLoaded","$nextTick","onTabChanged","index","axios","response","xmlJs","xml2js","ignoreDeclaration","ignoreInstruction","ignoreComment","xmlJsInit","obj","walk","obj0","obj1","elementID","attributes","forEach","obj2","sort","els","tagname","xmlJsGetObjectsByTagnameInit","json2xml","spaces","fullTagEmptyElement","indentCdata","indentAttributes","xmlJsToText","reduce","xmlJsToTextWalk","prev","curr","tnvSearch","filter","query","tnvOnSelected","DropDown","Splitter","SplitterPanel","Mirador3","TextViewer","layoutOptions","set","ImageViewer","routes","path","component","Home","router","createRouter","history","createWebHistory","process","accept","choose","upload","cancel","dayNames","dayNamesShort","dayNamesMin","monthNames","monthNamesShort","today","clear","weekHeader","firstDayOfWeek","dateFormat","weak","medium","strong","passwordPrompt","createApp","App","use","mdiVue","icons","mdijs","PrimeVue","locale","ja","Button","SelectButton","mount","lem","size","childParents","_component_OverlayPanel","ref","formatLabel","wit","rdgs","OverlayPanel","defineAsyncComponent","$props","find","toggleOlp","$refs","op","toggle","navigator","userAgent","container","boxSizing","TeiApp","setup","useStore","useCssModule","mdicon","resolveComponent","URI_TYPE","RAW_IMAGE","IIIF_IMAGE","CANVAS_ID","KOTENSEKI_NIJL","OHTER","elRef","toRef","parentsRef","inject","renderChild","h","descernURI","test","parseInt","RegExp","$1","canvasId","replace","OTHER","jumpToByCanvasId","jumpToBySeqIdx","createVNodeByURI","preventDefault","facs","getClassName","vnodes","source","cssModules"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASY,EAAe5B,GACvB,OAAOyB,EAAoBI,EAAI,OAAS,GAAG7B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,MAIxR,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU+B,QAGnC,IAAIC,EAASJ,EAAiB5B,GAAY,CACzCK,EAAGL,EACHiC,GAAG,EACHF,QAAS,IAUV,OANAjB,EAAQd,GAAUW,KAAKqB,EAAOD,QAASC,EAAQA,EAAOD,QAASL,GAG/DM,EAAOC,GAAI,EAGJD,EAAOD,QAKfL,EAAoBQ,EAAI,SAAuBjC,GAC9C,IAAIkC,EAAW,GAKXC,EAAqBxB,EAAgBX,GACzC,GAA0B,IAAvBmC,EAGF,GAAGA,EACFD,EAAStB,KAAKuB,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAIC,SAAQ,SAASC,EAASC,GAC3CJ,EAAqBxB,EAAgBX,GAAW,CAACsC,EAASC,MAE3DL,EAAStB,KAAKuB,EAAmB,GAAKC,GAGtC,IACII,EADAC,EAASC,SAASC,cAAc,UAGpCF,EAAOG,QAAU,QACjBH,EAAOI,QAAU,IACbpB,EAAoBqB,IACvBL,EAAOM,aAAa,QAAStB,EAAoBqB,IAElDL,EAAOO,IAAMpB,EAAe5B,GAG5B,IAAIiD,EAAQ,IAAIC,MAChBV,EAAmB,SAAUW,GAE5BV,EAAOW,QAAUX,EAAOY,OAAS,KACjCC,aAAaT,GACb,IAAIU,EAAQ5C,EAAgBX,GAC5B,GAAa,IAAVuD,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYL,IAAyB,SAAfA,EAAMM,KAAkB,UAAYN,EAAMM,MAChEC,EAAUP,GAASA,EAAMQ,QAAUR,EAAMQ,OAAOX,IACpDC,EAAMW,QAAU,iBAAmB5D,EAAU,cAAgBwD,EAAY,KAAOE,EAAU,IAC1FT,EAAMY,KAAO,iBACbZ,EAAMQ,KAAOD,EACbP,EAAMa,QAAUJ,EAChBH,EAAM,GAAGN,GAEVtC,EAAgBX,QAAW+D,IAG7B,IAAIlB,EAAUmB,YAAW,WACxBxB,EAAiB,CAAEiB,KAAM,UAAWE,OAAQlB,MAC1C,MACHA,EAAOW,QAAUX,EAAOY,OAASb,EACjCE,SAASuB,KAAKC,YAAYzB,GAG5B,OAAOJ,QAAQ8B,IAAIjC,IAIpBT,EAAoB2C,EAAIvD,EAGxBY,EAAoB4C,EAAI1C,EAGxBF,EAAoB6C,EAAI,SAASxC,EAAS+B,EAAMU,GAC3C9C,EAAoB+C,EAAE1C,EAAS+B,IAClCtD,OAAOkE,eAAe3C,EAAS+B,EAAM,CAAEa,YAAY,EAAMC,IAAKJ,KAKhE9C,EAAoBmD,EAAI,SAAS9C,GACX,qBAAX+C,QAA0BA,OAAOC,aAC1CvE,OAAOkE,eAAe3C,EAAS+C,OAAOC,YAAa,CAAEC,MAAO,WAE7DxE,OAAOkE,eAAe3C,EAAS,aAAc,CAAEiD,OAAO,KAQvDtD,EAAoBuD,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQtD,EAAoBsD,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK5E,OAAO6E,OAAO,MAGvB,GAFA3D,EAAoBmD,EAAEO,GACtB5E,OAAOkE,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOtD,EAAoB6C,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR1D,EAAoB8D,EAAI,SAASxD,GAChC,IAAIwC,EAASxC,GAAUA,EAAOmD,WAC7B,WAAwB,OAAOnD,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAN,EAAoB6C,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR9C,EAAoB+C,EAAI,SAASgB,EAAQC,GAAY,OAAOlF,OAAOC,UAAUC,eAAeC,KAAK8E,EAAQC,IAGzGhE,EAAoBI,EAAI,WAGxBJ,EAAoBiE,GAAK,SAASC,GAA2B,MAApBC,QAAQ3C,MAAM0C,GAAYA,GAEnE,IAAIE,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjF,KAAK0E,KAAKO,GAC5CA,EAAWjF,KAAOf,EAClBgG,EAAaA,EAAWG,QACxB,IAAI,IAAI5F,EAAI,EAAGA,EAAIyF,EAAWvF,OAAQF,IAAKP,EAAqBgG,EAAWzF,IAC3E,IAAIU,EAAsBiF,EAI1B/E,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,mKC5NT,W,oCCAA,W,+HCCO+E,GAAG,O,4EAARC,eAEM,MAFN,EAEM,CADJC,eAAcC,K,mCCDlB,MAAM3D,EAAS,GAKT4D,EAA2B,IAAgB5D,EAAQ,CAAC,CAAC,SAAS6D,KAErD,Q,YCNAC,iBAAY,CACzBC,MAAO,CACLC,GAAI,KACJC,IAAK,KAELC,aAAc,GACdC,QAAS,GACTC,MAAO,CAAC,CACNC,SAAU,OACVC,MAAO,CAAC,CACNC,MAAO,kBACPC,YAAa,yDACbC,KAAM,CAAC,CACLC,MAAO,IAEPC,IAAK,uBACJ,CACDD,MAAO,IACPC,IAAK,4TAEN,CACDJ,MAAO,OACPC,YAAa,qEACbC,KAAM,CAAC,CACLC,MAAO,MACPC,IAAK,qEAGR,CACDN,SAAU,WACVC,MAAO,CAAC,CACNC,MAAO,SACPC,YAAa,8EACbC,KAAM,CAAC,CACLC,MAAO,YACPC,IAAK,kGAKbC,QAAS,GAETC,UAAW,CACTC,MADS,SACHf,EAAOC,GACXD,EAAMC,GAAKA,EACXb,QAAQ4B,KAAK,gBAAiBf,IAEhCgB,gBALS,SAKOjB,EAAOkB,GACrBlB,EAAMG,aAAee,EACrB9B,QAAQ4B,KAAK,0BAA2BhB,EAAMG,eAEhDgB,WATS,SASEnB,EAAOI,GAChBJ,EAAMI,QAAUA,EAChBhB,QAAQ4B,KAAK,qBAAsBZ,KAGvCgB,QAAS,CACPD,WADO,WACgBf,GAAS,IAAnBiB,EAAmB,EAAnBA,OACXA,EAAO,aAAcjB,O,cC3DzBkB,eAA+C,KAA5CC,MAAM,uBAAsB,gBAAY,G,gHAA3CC,EACA7B,eAAe8B,IAAf,I,OCWSF,MAAM,iB,GAKNA,MAAM,c,oSAjBf5B,eAGW+B,EAAA,C,WAHQC,e,qDAAAA,eAAYC,IAC5BC,QAASF,QAAOG,YAAY,QAC7BC,oBAAoB,QAAQC,iBAAiB,YAF/C,iCAIArC,eAKesC,EAAA,C,WALQC,S,qDAAAA,SAAMN,IAC1BC,QAASK,gBAAeC,YAAY,SADvC,CAEaC,OAAM,gBACf,SADiBC,GACjB,MAD0B,CAC1B1C,eAAwC2C,EAAA,CAA/BjF,KAAMgF,EAAUD,OAAOG,MAAhC,qB,KAHJ,4BAMA5C,eAWW6C,EAAA,CAXAC,OAAQP,UAAM,C,wBACvB,iBAIgB,CAJhBvC,eAIgB+C,EAAA,M,wBAHd,iBAEM,CAFNpB,eAEM,MAFN,EAEM,CADJ3B,eAAiCgD,EAAA,CAAvBC,aAAW,kB,MAGzBjD,eAIgB+C,EAAA,M,wBAHd,iBAEM,CAFNpB,eAEM,MAFN,EAEM,CADJ3B,eAAckD,S,eARpB,mB,6GCVAnD,eAAgD,OAA1CD,GAAE,KAAOqD,UAAWvB,MAAM,WAAhC,U,wCAOa,GACblE,KAAM,WACN0F,MAAO,CACL,aAEFzJ,KALa,WAMX,MAAO,IAGT0J,SAAU,CACR/C,GADQ,WAEN,OAAOgD,KAAKC,OAAOlD,MAAMC,IAE3BE,aAJQ,WAKN,OAAO8C,KAAKC,OAAOlD,MAAMG,cAE3BE,MAPQ,WAQN,OAAO4C,KAAKC,OAAOlD,MAAMK,OAE3BD,QAVQ,WAWN,OAAO6C,KAAKC,OAAOlD,MAAMI,UAG7B+C,QAAS,CACPC,YADO,WACiC,IAA5BC,EAA4B,uDAAjB,gBACrB,OAAOJ,KAAKhD,GAAGqD,MAAMC,WAAWC,QAAQH,IAE1CI,kBAJO,WAIuC,IAA5BJ,EAA4B,uDAAjB,gBACrBrD,EAAQiD,KAAKhD,GAAGqD,MAAMC,WAC5B,OAAOvD,EAAM0D,UAAU1D,EAAMwD,QAAQH,GAAUM,YAAYC,MAE7DC,OARO,WASL,IAAM5D,EAAKX,OAAOwE,QAAQC,OAAO,CAC/BC,SAAU,KACVvE,GAAIwD,KAAKH,UACTxD,OAAQ,CACN2E,sBAAsB,KAI1BH,OAAQC,OAAO9D,EAAf,eACKiE,SAELjB,KAAKC,OAAO7B,OAAO,QAASpB,GAC5BX,OAAOW,GAAKA,GAEdkE,UAvBO,SAuBGjD,GAAkC,IAA5BmC,EAA4B,uDAAjB,gBACU,OAA/BJ,KAAKG,YAAYC,GACnBJ,KAAKhD,GAAGqD,MAAMc,SAAS9E,OAAOwE,QAAQ1C,QACnCiD,UAAU,CAAE5E,GAAI4D,EAAUM,WAAYzC,EAAKT,gBAE9CrB,QAAQ4B,KAAK,aACbiC,KAAKhD,GAAGqD,MAAMc,SAAS9E,OAAOwE,QAAQ1C,QACnCkD,aAAajB,EAAU,CAAEM,WAAYzC,EAAKT,iBAGjD8D,gBAjCO,SAiCS9E,GAAgC,IAA5B4D,EAA4B,uDAAjB,gBAC7BJ,KAAKhD,GAAGqD,MAAMc,SAAS9E,OAAOwE,QAAQ1C,QACnCoD,UAAUnB,EAAU5D,KAEzBgF,oBArCO,SAqCaC,GAAoC,IAA5BrB,EAA4B,uDAAjB,gBACrCJ,KAAKsB,gBAAgBtB,KAAKQ,kBAAkBJ,GACzCsB,UAAU,GAAGC,SAASF,GAAQ,UAGrCG,QAjEa,WAkEX5B,KAAKY,UAEPiB,MAAO,CACL3E,aAAc,CACZ4E,QADY,SACJ7D,GACN+B,KAAKkB,UAAUjD,IAEjB8D,MAAM,GAER5E,QAAS,CACP2E,QADO,SACC3E,GACN,OAAQA,EAAQvB,KACd,IAAK,SACHoE,KAAKwB,oBAAoBrE,EAAQ7B,OACjC,MACF,IAAK,WACH0E,KAAKsB,gBAAgBnE,EAAQ7B,OAC7B,MACF,QACEa,QAAQ3C,MAAM,6BAGpBuI,MAAM,K,UCzFZ,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,Q,cCsBEC,MAAA,wB,qCAQU,mB,EACG3D,eAAoB,YAAd,WAAO,G,iBAAO,M,EAAEA,eAAgB,YAAV,OAAG,G,iBAAO,M,KAAtC4D,IAAsBC,K,EASxC7D,eAAiC,QAA3BC,MAAM,WAAU,QAAI,G,GAGrBA,MAAM,W,EAC2BD,eAAM,mB,iBAAA,kB,aAU5CA,eAAoC,QAA9BC,MAAM,WAAU,WAAO,G,GAGxBA,MAAM,W,EAC0BD,eAAM,mB,iBAAA,U,mYAlErD3B,eAyFUyF,EAAA,CAxFRH,MAAA,cACQI,QAASnD,e,kDAAAA,eAAYN,IAC7B0D,SAAS,QACTC,YAAY,QAJd,C,wBAME,iBAkFY,CAlFZ5F,eAkFY6F,EAAA,CAlFDC,SAAA,GAAUC,YAAa,CAAC,EAAD,GAAOC,KAAA,IAAzC,C,wBACE,iBAqCe,CArCfhG,eAqCeiG,EAAA,CArCDC,OAAO,oBAAkB,C,wBACrC,iBAmCO,CAnCPlG,eAmCOmG,EAAA,MAlCMC,QAAO,gBAChB,iBAmBe,CAnBfpG,eAmBeqG,EAAA,C,WAlBJ9D,Y,qDAAAA,YAASN,IACjBqE,YAAa/D,iBACdgE,MAAM,OACLC,WAAUxE,YACVyE,aAAYzE,gBACb0E,cAAA,GACAC,gBAAA,GACAC,eAAA,GACAC,YAAY,6BATd,CAWaC,KAAI,gBACb,SADepE,GACf,MADwB,CACxBf,eAKM,0CAJDe,EAAUoE,KAAKpJ,MAAO,IACzB,GAAgBgF,EAAUoE,KAAKC,wBAA/BhH,eAEWiH,OAAA,CAAA9H,OAAA,gBAF2B,KACnC+H,eAAGvE,EAAUoE,KAAKC,OAAQ,KAC7B,IAFA,iC,KAdN,4DAoBApF,eAWM,MAXN,EAWM,CAVOY,gCAAXxC,eAMQ,MAAAmH,EAAAD,iBALDE,aAAY,C,sCAAuGC,aAD1H,sBAOArH,eAEO,OAAAsH,EAAAC,U,gBAKftH,eA6BeiG,EAAA,CA7BDC,OAAO,YAAU,C,wBAC7B,iBAaO,CAbPlG,eAaOmG,EAAA,MAZMtF,MAAK,gBACd,iBAAiC,CAAjC0G,MAESnB,QAAO,gBAChB,iBAMM,CANNzE,eAMM,MANN,EAMM,gBANe,WACZsF,iBAAQzG,aAAaK,OAAK,GAAG2G,EAKhC,EAJS7F,eAGT,KAHYC,MAAM,UAAUpE,OAAO,SACpCiK,KAAI,EAAOjH,aAAaM,aADd,iBAEHN,aAAaM,aAAW,EAAA4G,S,MAKxC1H,eAaOmG,EAAA,MAZMtF,MAAK,gBACd,iBAAoC,CAApC8G,MAESvB,QAAO,gBAChB,iBAMM,CANNzE,eAMM,MANN,EAMM,gBANe,WACZsF,iBAAQW,YAAY5G,OAAK,GAAG6G,EAK/B,EAJClG,eAGD,KAHIC,MAAM,UAAUpE,OAAO,SAC5BiK,KAAI,EAAOG,YAAY3G,KADrB,iBAEK2G,YAAY3G,KAAG,EAAA6G,S,gBAMjC9H,eAYeiG,EAAA,CAZDC,OAAO,cAAY,C,wBAC/B,iBAUO,CAVPlG,eAUOmG,EAAA,MATMC,QAAO,gBAChB,iBAMQ,CANRzE,eAMQ,WAAAsF,iBALDE,aAKC,EALkCY,0BAAgDH,YAAY3G,mBADtG,O,mCA9EV,eA0FAU,eAIM,YAHJA,eAA0C,YAAAsF,oBAA5BzG,aAAaK,OAAK,GAChCb,eACoD2C,EAAA,CAD5CjF,KAAK,OAAOkE,MAAM,mBACvBoG,QAAK,iCAAOC,cAAY,EAASA,mBAEtCjI,eAiBUkI,EAAA,CAhBAnC,YAAaxD,iB,sDAAAA,iBAAcN,IAClCkG,YAAYnG,gBAFf,C,wBAKI,iBAAgC,qBADlCjC,eAYWiH,OAAA,KAAAoB,eAXKpG,eAAajB,MAAI,SAAxBsH,G,wBADTC,eAYWC,EAAA,CAVRrJ,IAAKmJ,EAAIrH,MACTkF,OAAQmC,EAAIrH,OAHf,C,wBAKE,iBAMc,CANdhB,eAMcwI,EAAA,CALZlD,MAAA,8BAAkC,C,wBAClC,iBAGE,CAFM/C,OAAK8F,EAAIpH,MAAT,iBADRqH,eAGEG,EAAA,C,MADCC,GAAE,EAAO/O,KAAK0O,EAAIpH,KAAKoH,IAAIM,SAAQ,GAAIA,SAAQ,IAFlD,0C,KAFF,U,KALF,8B,KAJF,sC,sQC/FK/G,MAAM,Y,kFAAX7B,eAEM,MAFN,GAEM,CADJC,eAAkD4I,EAAA,CAAvCF,GAAE,KAAOA,GAAKG,QAAO,KAAOA,SAAvC,2B,iBAOW,IACbnL,KAAM,MACNoL,WAAY,CACVC,wBAEF3F,MAAO,CACLsF,GAAI,CAAEpL,KAAMlD,OAAQ4O,QAAS,KAAMC,UAAU,GAC7CJ,QAAS,CAAEvL,KAAM4L,MAAOF,QAAS,iBAAM,IAAIC,UAAU,IAEvD5F,SAAU,CACR7C,aADQ,WAEN,OAAO8C,KAAKC,OAAOlD,MAAMG,eAG7B2E,MAAO,CACLuD,GADK,WAEHjJ,QAAQ0J,MAAM,IAAK,YAAa7F,KAAKoF,MAGzCxD,QAnBa,WAmBH,WAERrH,YAAW,WACT,GAAiB,OAAb,EAAKuL,KAAwC,IAAxB,EAAKP,QAAQ1O,OAAc,CAClD,IAAMuO,EAAK,EAAKU,IAAIC,WACG,IAAnBX,EAAGY,cACLZ,EAAGa,WAAab,EAAGY,gBAGtB,O,UC9BP,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAE1E,UFwHA,IACb5L,KAAM,aAENoL,WAAY,CACVU,kBACAC,qBACAC,qBACAC,aACAC,gBACAC,oBACAC,iBACAC,gBACAC,QAGFrQ,KAfa,WAgBX,MAAO,CACLsO,cAAc,EACdgC,eAAgB,EAChBC,iBAAkB,KAClBvQ,KAAM,GACNwQ,UAAW,GACXC,eAAgB,GAChBC,YAAa,KAIjBhH,SAAU,CACR/C,GADQ,WAEN,OAAOgD,KAAKC,OAAOlD,MAAMC,IAE3BE,aAJQ,WAKN,OAAO8C,KAAKC,OAAOlD,MAAMG,cAE3BoH,YAPQ,WAQN,OAA8B,OAA1BtE,KAAK4G,iBACA,KAEF5G,KAAK9C,aAAaO,KAAKuC,KAAK4G,mBAErCI,aAbQ,WAcN,OAAyB,OAArBhH,KAAKsE,kBACgChK,IAApC0F,KAAK3J,KAAK2J,KAAKsE,YAAY3G,KACvB,KAEFqC,KAAK3J,KAAK2J,KAAKsE,YAAY3G,MAEpCsJ,kBApBQ,WAqBN,OAAOjH,KAAKgH,aAAaE,IAAIC,KAC1BC,OAAOtQ,OAAOuQ,KAAKrH,KAAKgH,aAAaE,IAAII,QACvCC,KAAI,SAACnN,GAAD,MAAW,CAAEA,aAExB0J,UAzBQ,WA0BN,OAAI9D,KAAK+G,YAAYS,WAAW,MAC9BrL,QAAQsL,IAAIzH,KAAKgH,aAAaE,IAAII,OAAOtH,KAAK+G,cACvC,CAAC/G,KAAKgH,aAAaE,IAAII,OAAOtH,KAAK+G,eAErC/G,KAAK0H,yBAAyB1H,KAAKsE,YAAY3G,IACpDqC,KAAK+G,eAIXlF,MAAO,CACL3E,aAAc,CACZ4E,QADY,WAEV9B,KAAK2H,aAEP5F,MAAM,GAER6E,iBAAkB,CAChB9E,QADgB,SACR8F,GACM,OAARA,GACF5H,KAAK6H,WAGT9F,MAAM,IAIV+F,QA/Ea,WA+EH,WACR,MAAO,CACLC,UAAW,kBAAM,EAAKf,aAAaE,IAAII,UAI3CpH,QAAS,CACPyH,UADO,WACK,WACV3H,KAAKgI,UAAY,GACjBhI,KAAK4G,iBAAmB,KACxB5G,KAAK2G,eAAiB,EACtB3G,KAAKiI,WAAU,WACb,EAAKrB,iBAAmB,MAG5BsB,aATO,SASMxO,GACXsG,KAAK4G,iBAAmBlN,EAAMyO,OAE1BN,QAZC,WAYS,qKACNlK,EAAQ,EAAKT,aAAaO,KAAK,EAAKmJ,kBAApCjJ,IACH,EAAKtH,KAAKsH,GAFD,0CAIayK,IAAMlN,IAAIyC,GAJvB,OAIJ0K,EAJI,OAKJhS,EAAOiS,KAAMC,OAAOF,EAAShS,KAAM,CACvCmS,mBAAmB,EACnBC,mBAAmB,EACnBC,eAAe,IAEjB,EAAKrS,KAAKsH,GAAO,EAAKgL,UAAUtS,GAVtB,qDAYV8F,QAAQ3C,MAAM,uBAAd,MAZU,6DAiBhBmP,UA7BO,SA6BGC,GACR,IAAIpM,EAAK,EACH+K,EAAM,GACND,EAAS,GACTuB,EAAO,SAAPA,EAAQC,GACZ,IAAMC,EAAOD,EACbC,EAAKC,UAAYxM,EACbuM,EAAK3O,OACFmN,EAAIwB,EAAK3O,MAGZmN,EAAIwB,EAAK3O,OAAS,EAFlBmN,EAAIwB,EAAK3O,MAAQ,GAKjB2O,EAAKE,YAAcF,EAAKE,WAAW,YACrC3B,EAAO,IAAD,OAAKyB,EAAKE,WAAW,YAAeF,GAE5CvM,GAAM,EACFuM,EAAK1D,UACP0D,EAAK1D,SAAS6D,SAAQ,SAACC,GACrBN,EAAKM,OAIXN,EAAKD,GAEL,IAAMzB,EAAOrQ,OAAOuQ,KAAKE,GAAK6B,OAAO7B,KAAI,SAACnN,GAAD,MAAW,CAClDA,OACAqJ,MAAO8D,EAAInN,OAKb,OAFA+B,QAAQ4B,KAAK,YAAaoJ,EAAMI,EAAK,SAAUD,GAExC,CACLvC,IAAK6D,EACL1B,IAAK,CAAEC,OAAMG,SAAQ+B,IAAK,MAI9B5E,wBApEO,SAoEiB9G,EAAK2L,GAI3B,YAHwChP,IAApC0F,KAAK3J,KAAKsH,GAAKuJ,IAAImC,IAAIC,IACzBtJ,KAAKuJ,6BAA6B5L,EAAK2L,GAErCtJ,KAAK3J,KAAKsH,GAAKuJ,IAAImC,IAAIC,GAASzS,OAAS,EACpCmJ,KAAK3J,KAAKsH,GAAKuJ,IAAImC,IAAIC,GAAS,GAElC,MAGT5B,yBA9EO,SA8EkB/J,EAAK2L,GAI5B,YAHwChP,IAApC0F,KAAK3J,KAAKsH,GAAKuJ,IAAImC,IAAIC,IACzBtJ,KAAKuJ,6BAA6B5L,EAAK2L,GAElCtJ,KAAK3J,KAAKsH,GAAKuJ,IAAImC,IAAIC,IAEhCC,6BApFO,SAoFsB5L,EAAK2L,GAChC,IAAMnO,EAAI,GACJ0N,EAAO,SAAPA,EAAQD,GACPA,EAAIvD,UAGTuD,EAAIvD,SAAS6D,SAAQ,SAACnO,GAChBA,EAAEX,OAASkP,EACbnO,EAAEhE,KAAK4D,GAEP8N,EAAK9N,OAIX8N,EAAK7I,KAAK3J,KAAKsH,GAAKoH,KACpB/E,KAAK3J,KAAKsH,GAAKuJ,IAAImC,IAAIC,GAAWnO,GAGpC0I,aAtGO,SAsGM+E,GACX,OAAKA,EAGEN,KAAMkB,SAASZ,EAAK,CACzBa,OAAQ,EACRC,qBAAqB,EACrBC,aAAa,EACbC,kBAAkB,IANX,IAUXC,YAlHO,SAkHKjB,GACV,OAAOA,EAAIvD,SAASyE,OAAO9J,KAAK+J,gBAAiB,KAEnDA,gBArHO,SAqHSC,EAAMC,GACpB,MAAkB,SAAdA,EAAKjQ,KACA,GAAP,OAAUgQ,GAAV,OAAiBC,EAAKhM,MAEjBgM,EAAK5E,SAASyE,OAAO9J,KAAK+J,gBAAiBC,IAGpDE,UA5HO,SA4HGxQ,GAAO,WACfa,YAAW,WACT,OAAyB,OAArB,EAAK+J,kBACgChK,IAApC,EAAKjE,KAAK,EAAKiO,YAAY3G,KACvB,MAET,EAAKmJ,eAAiB,EAAKG,kBAAkBkD,QAAO,SAAC3G,GAAD,OAClDA,EAAKpJ,KAAKoN,WAAW9N,EAAM0Q,WAEtB,KACN,MAGLC,cAzIO,SAyIO3Q,GACZsG,KAAK+G,YAAcrN,EAAM4B,MAAMlB,QG3VrC,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,KAErD,UNyBA,IACbA,KAAM,cACNoL,WAAY,CACV8E,gBACAC,gBACAC,qBACAC,WACAC,eAEFrU,KATa,WAUX,MAAO,CACLmJ,OAAQ,aACRmL,cAAe,CAAC,CACdrL,KAAM,sBACNhE,MAAO,cACN,CACDgE,KAAM,wBACNhE,MAAO,eAIbyE,SAAU,CACR7C,aAAc,CACZhC,IADY,WAEV,OAAO8E,KAAKC,OAAOlD,MAAMG,cAE3B0N,IAJY,SAIR3M,GACF+B,KAAKC,OAAO7B,OAAO,kBAAmBH,KAG1Cb,MATQ,WAUN,OAAO4C,KAAKC,OAAOlD,MAAMK,QAG7BwE,QAlCa,WAkCH,WACR5B,KAAKiI,WAAU,WAAM,qBACG,EAAK7K,MAAM,GAAGE,MADjB,GAClB,EAAKJ,aADa,U,UO5DzB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,URDA,IACb9C,KAAM,OACNoL,WAAY,CACVqF,iBSNJ,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,KAErD,UCJTC,GAAS,CACb,CACEC,KAAM,IACN3Q,KAAM,OACN4Q,UAAWC,KAYTC,GAASC,eAAa,CAC1BC,QAASC,eAAiBC,YAC1BR,YAGaI,M,iECxBA,I,wCAAA,CACbK,OAAQ,KACRzS,OAAQ,MACR0S,OAAQ,KACRC,OAAQ,SACRC,OAAQ,QACRC,SAAU,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACrDC,cAAe,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC9CC,YAAa,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC5CC,WAAY,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,MAAO,OACjFC,gBAAiB,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,MAAO,OACtFC,MAAO,KACPC,MAAO,MACPC,WAAY,IACZC,eAAgB,EAChBC,WAAY,WACZC,KAAM,KACNC,OAAQ,KACRC,OAAQ,KACRC,eAAgB,aCElBC,eAAUC,GACPC,IAAItM,GACJsM,IAAIzB,IACJyB,IAAIC,QAAQ,CAAEC,MAAOC,KACrBH,IAAII,QAAU,CAAEC,OAAQC,KACxBjC,UAAU,SAAUkC,SACpBlC,UAAU,eAAgBmC,SAC1BC,MAAM,S,oCC5BT,W,oCCAA,oE,kCCAA,W,qBCCA9U,EAAOD,QAAU,CAAC,SAAS,0B,kCCD3B,W,uNCWSiG,MAAM,Y,gLAVbD,eASS,QARPC,MAAM,UACNf,MAAM,KACL8P,IAAK3O,MACLgG,QAAK,8CAAUhG,8CAAS,eAJ3B,CAKChC,eAEC2C,EAAA,CADAjF,KAAK,sBAAsBkT,KAAK,OAChC5Q,eAEA4I,EAAA,CADCF,GAAE,KAAOiI,IAAM9H,QAAO,KAAOgI,cAD9B,0BAPF,KASS7Q,eAgBM8Q,EAAA,CAhBQC,IAAI,MAAI,C,wBAC7B,iBAcM,CAdNpP,eAcM,MAdN,EAcM,CAbJA,eAIM,4CAFGqP,YAAW,EAAML,IAAIpE,WAAW0E,MAAG,GACxCjR,eAAwD4I,EAAA,CAA7CF,GAAE,EAAOiI,IAAM9H,QAAO,EAAOgI,cAAxC,4BAUA,mBARJ9Q,eAOMiH,OAAA,KAAAoB,iBANc8I,MAAI,SAAfxI,G,wBADT3I,eAOM,OALHb,IAAKwJ,EAAG4D,WAFX,iCAKS0E,YAAYtI,EAAG6D,WAAW0E,MAAG,GAClCjR,eAAkD4I,EAAA,CAAvCF,GAAIA,EAAKG,QAAO,EAAOgI,cAAlC,8BANJ,Y,KAPK,U,4EAuBI,GACbnT,KAAM,SACNoL,WAAY,CACVqI,oBACApI,SAAUqI,gBAAqB,kBAAM,gDAGvChO,MAAO,CACLsF,GAAI,CAAEpL,KAAMlD,OAAQ4O,QAAS,KAAMC,UAAU,GAC7CJ,QAAS,CAAEvL,KAAM4L,MAAOF,QAAS,iBAAM,IAAIC,UAAU,IAGvD5F,SAAU,CACRwN,aADQ,WAEN,OAAOvN,KAAK+N,OAAOxI,QAAQ6B,OAAO,QAEpCiG,IAJQ,WAKN,OAAOrN,KAAK+N,OAAO3I,GAAGC,SAAS2I,MAAK,SAAC5I,GAAD,MAAoB,QAAZA,EAAGhL,SAEjDwT,KAPQ,WAQN,OAAO5N,KAAK+N,OAAO3I,GAAGC,SAAS8E,QAAO,SAAC/E,GAAD,MAAoB,QAAZA,EAAGhL,UAIrD8F,QAAS,CACPwN,YADO,SACKC,GACV,MAAO,IAAP,OAAWA,EAAIpR,MAAM,GAArB,MAEF0R,UAJO,SAIGvU,GAAO,WACfsG,KAAKkO,MAAMC,GAAGC,OAAO1U,GAEjB2C,OAAOgS,UAAUC,UAAU9G,WAAW,YACxCxH,KAAKiI,WAAU,WACb,EAAKiG,MAAMC,GAAGI,UAAUvM,MAAMwM,UAAY,oB,iCC3DpD,MAAM5R,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,QCEA,GACbzC,KAAM,WAENoL,WAAY,CACViJ,UAGF3O,MAAO,CACLsF,GAAI,CAAEpL,KAAMlD,OAAQ4O,QAAS,KAAMC,UAAU,GAC7CJ,QAAS,CAAEvL,KAAM4L,MAAOF,QAAS,iBAAM,IAAIC,UAAU,IAGvD+I,MAZa,SAYP5O,GAEJ,IAAMO,EAAQsO,iBAGR3M,EAAQ4M,iBAGRC,EAASC,eAAiB,UAC1BrJ,EAAWqJ,eAAiB,YAG5BC,EAAW,CACfC,UAAW,YACXC,WAAY,aACZC,UAAW,WACXC,eAAgB,iBAChBC,MAAO,SAIHC,EAAQC,eAAMxP,EAAO,MACrByP,EAAaD,eAAMxP,EAAO,WAG1BiI,EAAYyH,eAAO,aAGnBC,EAAc,SAACrK,GAAD,OAAQsK,eAC1BjK,EACA,CACEL,KACAG,QAASgK,EAAWjU,MAAM8L,OAAOiI,EAAM/T,MAAMlB,SAI3CuV,EAAa,SAAChS,GAClB,GAAI,0DACDiS,KAAKjS,GACN,MAAO,CAAE3D,KAAM+U,EAASE,YAE1B,GAAI,sBAAsBW,KAAKjS,GAC7B,MAAO,CAAE3D,KAAM+U,EAASC,WAE1B,GAAI,iBAAiBY,KAAKjS,GACxB,MAAO,CAAE3D,KAAM+U,EAASG,WAE1B,GAAI,2DAA2DU,KAAKjS,GAClE,MAAO,CACL3D,KAAM+U,EAASI,eACf1N,OAAQoO,SAASC,OAAOC,GAAI,IAAM,GAGtC,GAAI,kEAAkEH,KAAKjS,GAAM,CAC/E,IAAM7B,EAAI+T,SAASC,OAAOC,GAAI,IAE9B,GAAIjU,GAAK,QAAS,CAChB,IAAM7D,EAAI,cAAO6D,EAAI,SAAUS,OAAO,GAKtC,OAJAJ,QAAQsL,IAAI,CACVzN,KAAM+U,EAASG,UACfc,SAAUrS,EAAIsS,QAAQ,OAAQhY,KAEzB,CACL+B,KAAM+U,EAASG,UACfc,SAAUrS,EAAIsS,QAAQ,OAAQhY,IAGlC,MAAO,CAAE+B,KAAM+U,EAASG,WAE1B,MAAO,CAAElV,KAAM+U,EAASmB,QAGpBC,EAAmB,SAACH,GACxB3P,EAAMc,SAAS,aAAc,CAC3BvF,IAAK,WACLN,MAAO0U,KAILI,EAAiB,SAAC3O,GACtBpB,EAAMc,SAAS,aAAc,CAC3BvF,IAAK,SACLN,MAAOmG,KAIL4O,EAAmB,SAAC1S,GACxB,IAAMxC,EAAIwU,EAAWhS,GACrB,OAAQxC,EAAEnB,MACR,KAAK+U,EAASG,UACZ,OAAOQ,eACLb,EACA,CACEzU,KAAM,iCACNmD,MAAO,WACPmH,QAAS,SAAClM,GACR2X,EAAiBhV,EAAE6U,UAAYX,EAAM/T,MAAM2N,WAAWnN,GACtDtD,EAAE8X,oBAKV,KAAKvB,EAASI,eACZ,MAAO,CACLO,eACE,IACA,CACExV,OAAQ,SACRqD,MAAO,WACP4G,KAAMkL,EAAM/T,MAAM2N,WAAWsH,MAE/Bb,eAAEb,EAAQ,CAAEzU,KAAM,iBACjBsV,eACDb,EACA,CACEzU,KAAM,iCACNmD,MAAO,WACPmH,QAAS,SAAClM,GACR4X,EAAejV,EAAEsG,QACjBjJ,EAAE8X,qBAMZ,KAAKvB,EAASC,UACd,KAAKD,EAASE,WACZ,OAAOS,eACL,IACA,CACExV,OAAQ,SACRqD,MAAO,QACP4G,KAAMkL,EAAM/T,MAAM2N,WAAWsH,MAE/Bb,eAAEb,EAAQ,CAAEzU,KAAM,wBAGtB,KAAK2U,EAASmB,MACZ,OAAOR,eACL,IACA,CACExV,OAAQ,SACRqD,MAAO,WACP4G,KAAMkL,EAAM/T,MAAM2N,WAAWsH,MAE/Bb,eAAEb,EAAQ,CAAEzU,KAAM,iBAGtB,QACE,OAAO,OAKPoW,EAAe,kBAAMxO,EAAM,OAAD,OAAQqN,EAAM/T,MAAMlB,QAGhDqW,EAAS,KAEb,OAAQpB,EAAM/T,MAAMtB,MAClB,IAAK,OACCqV,EAAM/T,MAAM2C,OACdwS,EAASf,eAAE,OAAQL,EAAM/T,MAAM2C,OAEjC,MACF,IAAK,UACH,OAAQoR,EAAM/T,MAAMlB,MAClB,IAAK,KASH,GARAqW,EAAS,CAACf,eAAE,OACRL,EAAM/T,MAAM2N,WAAWnN,GACzB2U,EAAOtZ,KAAKuY,eACV,OACA,CAAEpR,MAAOkS,KAFE,WAGPnB,EAAM/T,MAAM2N,WAAWnN,EAHhB,OAMXuT,EAAM/T,MAAM2N,WAAWsH,KAAM,CAC/B,IAAMzU,EAAIuU,EAAiBhB,EAAM/T,MAAM2N,WAAWsH,MAC9CzU,GACF2U,EAAOtZ,KAAK2E,GAGhB,GAAIuT,EAAM/T,MAAM2N,WAAWyH,OAAQ,CACjC,IAAMA,EAAS3I,IAAYsH,EAAM/T,MAAM2N,WAAWyH,QAClD,GAAIA,EAAQ,CACV,IAAM5U,EAAIuU,EAAiBK,EAAOzH,WAAWyH,QACzC5U,GACF2U,EAAOtZ,KAAK2E,IAIlB,MACF,IAAK,KACH2U,EAASf,eAAE,KAAM,CAAEpR,MAAOkS,MAC1B,MACF,IAAK,UACCnB,EAAM/T,MAAM2N,WAAWnN,IACzB2U,EAASJ,EAAiBhB,EAAM/T,MAAM2N,WAAWnN,IAEnD,MACF,IAAK,MACH2U,EAASf,eACPjB,EACA,CACErJ,GAAIiK,EAAM/T,MACViK,QAASgK,EAAWjU,QAGxB,MACF,QACM+T,EAAM/T,MAAM+J,WACdoL,EAASpB,EAAM/T,MAAM+J,SAASkC,KAAI,SAACnC,GAAD,OAAQqK,EAAYrK,OAExD,MAEJ,MACF,IAAK,QACH,MACF,IAAK,UACH,MACF,QAEEjJ,QAAQ3C,MAAM,6BAA8B6V,EAAM/T,OAClD,MAEJ,OAAO,kBAAMmV,K,YCrPjB,MAAME,EAAa,GAEnBA,EAAW,UAAY,aAGvB,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,eAAeA,KAE3D,gB","file":"js/app.20e4b5ad.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-73e4ce1c\":\"45266451\",\"chunk-043f1d80\":\"db098a45\",\"chunk-138fdd6a\":\"ddc072b9\",\"chunk-2d0a3357\":\"b7ee1b52\",\"chunk-2d0b5d49\":\"1fbec5e5\",\"chunk-2d213e3a\":\"6ae3dbe8\",\"chunk-5dbea897\":\"b2ba0cbc\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/textwg/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Mirador3.vue?vue&type=style&index=0&id=79158e6b&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=57cf298c&lang=scss\"","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n\n  a {\n    font-weight: bold;\n    color: #2c3e50;\n\n    &.router-link-exact-active {\n      color: #42b983;\n    }\n  }\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=57cf298c\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=57cf298c&lang=scss\"\n\nimport exportComponent from \"/home/mkunten/dev/src/github.com/mkunten/textwg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createStore } from 'vuex';\n\nexport default createStore({\n  state: {\n    m3: null,\n    bid: null,\n\n    selectedText: {},\n    m3Param: {},\n    texts: [{\n      provider: 'NIJL',\n      items: [{\n        title: '十六夜日記 corrected',\n        manifestURI: 'https://kotenseki.nijl.ac.jp/biblio/200003074/manifest',\n        xmls: [{\n          label: '上',\n          // uri: 'https://raw.githubusercontent.com/TEI-EAJ/jpn_classical/master/%E2%91%A1%E6%A0%A1%E8%A8%82%E6%9C%AC%E6%96%87%E3%83%87%E3%83%BC%E3%82%BF%E5%9B%BD%E6%96%87%E5%AD%A6%E7%A0%94%E7%A9%B6%E8%B3%87%E6%96%99%E9%A4%A8%E6%89%80%E8%94%B5%E3%80%8E%E5%8D%81%E5%85%AD%E5%A4%9C%E7%89%A9%E8%AA%9E%E3%80%8F%E4%B8%8A%E5%B7%BB.xml',\n          uri: 'texts/200003074.xml',\n        }, {\n          label: '下',\n          uri: 'https://raw.githubusercontent.com/TEI-EAJ/jpn_classical/master/%E2%91%A1%E6%A0%A1%E8%A8%82%E6%9C%AC%E6%96%87%E3%83%87%E3%83%BC%E3%82%BF%E5%9B%BD%E6%96%87%E5%AD%A6%E7%A0%94%E7%A9%B6%E8%B3%87%E6%96%99%E9%A4%A8%E6%89%80%E8%94%B5%E3%80%8E%E5%8D%81%E5%85%AD%E5%A4%9C%E7%89%A9%E8%AA%9E%E3%80%8F%E4%B8%8B%E5%B7%BB.xml',\n        }],\n      }, {\n        title: '源氏物語',\n        manifestURI: 'https://nakamura196.github.io/jpsearch/data/genji/manifest/01.json',\n        xmls: [{\n          label: '第1冊',\n          uri: 'https://tei-eaj.github.io/parallel_text_viewer/data/pt/01.xml',\n        }],\n      }],\n    }, {\n      provider: 'KU-ORCAS',\n      items: [{\n        title: '廣瀬本万葉集',\n        manifestURI: 'https://www.iiif.ku-orcas.kansai-u.ac.jp/iiif/books/210464810/manifest.json',\n        xmls: [{\n          label: '210464810',\n          uri: 'https://raw.githubusercontent.com/KU-ORCAS/manyoshuTEI/main/manyo_hirose_v02_85_140a.xml',\n        }],\n      }],\n    }],\n  },\n  getters: {\n  },\n  mutations: {\n    setM3(state, m3) {\n      state.m3 = m3;\n      console.info('store: setM3:', m3);\n    },\n    setSelectedText(state, text) {\n      state.selectedText = text;\n      console.info('store: setSelectedText:', state.selectedText);\n    },\n    setM3Param(state, m3Param) {\n      state.m3Param = m3Param;\n      console.info('store: setM3Param:', m3Param);\n    },\n  },\n  actions: {\n    setM3Param({ commit }, m3Param) {\n      commit('setM3Param', m3Param);\n    },\n  },\n});\n","<template>\n  <p class=\"fixed top-0 right-0\">202200301001</p>\n  <ImageViewer />\n</template>\n\n<script>\nimport ImageViewer from '@/components/ImageViewer.vue';\n\nexport default {\n  name: 'Home',\n  components: {\n    ImageViewer,\n  },\n};\n</script>\n","<template>\n  <DropDown v-model=\"selectedText\"\n    :options=\"texts\" optionLabel=\"title\"\n    optionGroupChildren=\"items\" optionGroupLabel=\"provider\">\n  </DropDown>\n  <SelectButton v-model=\"layout\"\n    :options=\"layoutOptions\" optionValue=\"value\">\n    <template #option=\"slotProps\">\n      <mdicon :name=\"slotProps.option.icon\" />\n    </template>\n  </SelectButton>\n  <Splitter :layout=\"layout\">\n    <SplitterPanel>\n      <div class=\"miradorviewer\">\n        <Mirador3 mirador-id=\"mirador\" />\n      </div>\n    </SplitterPanel>\n    <SplitterPanel>\n      <div class=\"textviewer\">\n        <TextViewer />\n      </div>\n    </SplitterPanel>\n  </Splitter>\n</template>\n\n<script>\nimport DropDown from 'primevue/dropdown';\nimport Splitter from 'primevue/splitter';\nimport SplitterPanel from 'primevue/splitterpanel';\nimport Mirador3 from '@/components/Mirador3.vue';\nimport TextViewer from '@/components/TextViewer.vue';\n\nexport default {\n  name: 'ImageViewer',\n  components: {\n    DropDown,\n    Splitter,\n    SplitterPanel,\n    Mirador3,\n    TextViewer,\n  },\n  data() {\n    return {\n      layout: 'horizontal',\n      layoutOptions: [{\n        icon: 'view-split-vertical',\n        value: 'horizontal',\n      }, {\n        icon: 'view-split-horizontal',\n        value: 'vertical',\n      }],\n    };\n  },\n  computed: {\n    selectedText: {\n      get() {\n        return this.$store.state.selectedText;\n      },\n      set(text) {\n        this.$store.commit('setSelectedText', text);\n      },\n    },\n    texts() {\n      return this.$store.state.texts;\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      [this.selectedText] = this.texts[0].items;\n    });\n  },\n};\n</script>\n\n<style scoped>\n.p-splitter-panel {\n  overflow-x: hidden;\n}\n\n.imageviewer {\n  width: 100%;\n  height: 600px;\n  border: 1px solid black;\n  overflow: hidden;\n}\n\n.miradorviewer {\n  position: relative;\n  height: 100%;\n}\n\n.textviewer {\n  position: relative;\n  max-width: 95%;\n  height: 100%;\n}\n</style>\n","<template>\n  <div :id=\"this.miradorId\" class=\"mirador\"></div>\n</template>\n\n<script>\nimport Mirador from 'mirador/dist/es/src/index';\nimport { miradorImageToolsPlugin } from 'mirador-image-tools';\n\nexport default {\n  name: 'Mirador3',\n  props: [\n    'miradorId',\n  ],\n  data() {\n    return {\n    };\n  },\n  computed: {\n    m3() {\n      return this.$store.state.m3;\n    },\n    selectedText() {\n      return this.$store.state.selectedText;\n    },\n    texts() {\n      return this.$store.state.texts;\n    },\n    m3Param() {\n      return this.$store.state.m3Param;\n    },\n  },\n  methods: {\n    getM3Window(windowId = 'windowDefault') {\n      return this.m3.store.getState().windows[windowId];\n    },\n    getM3ManifestJSON(windowId = 'windowDefault') {\n      const state = this.m3.store.getState();\n      return state.manifests[state.windows[windowId].manifestId].json;\n    },\n    initM3() {\n      const m3 = window.Mirador.viewer({\n        language: 'ja',\n        id: this.miradorId,\n        window: {\n          sideBarOpenByDefault: false,\n        },\n      });\n\n      Mirador.viewer(m3, [\n        ...miradorImageToolsPlugin,\n      ]);\n      this.$store.commit('setM3', m3);\n      window.m3 = m3; // for debugging\n    },\n    setM3Text(text, windowId = 'windowDefault') {\n      if (this.getM3Window(windowId) !== null) {\n        this.m3.store.dispatch(window.Mirador.actions\n          .addWindow({ id: windowId, manifestId: text.manifestURI }));\n      } else {\n        console.info('m3 update');\n        this.m3.store.dispatch(window.Mirador.actions\n          .updateWindow(windowId, { manifestId: text.manifestURI }));\n      }\n    },\n    setM3CanvasById(id, windowId = 'windowDefault') {\n      this.m3.store.dispatch(window.Mirador.actions\n        .setCanvas(windowId, id));\n    },\n    setM3CanvasBySeqIdx(seqIdx, windowId = 'windowDefault') {\n      this.setM3CanvasById(this.getM3ManifestJSON(windowId)\n        .sequences[0].canvases[seqIdx]['@id']);\n    },\n  },\n  mounted() {\n    this.initM3();\n  },\n  watch: {\n    selectedText: {\n      handler(text) {\n        this.setM3Text(text);\n      },\n      deep: true,\n    },\n    m3Param: {\n      handler(m3Param) {\n        switch (m3Param.key) {\n          case 'seqIdx':\n            this.setM3CanvasBySeqIdx(m3Param.value);\n            break;\n          case 'canvasId':\n            this.setM3CanvasById(m3Param.value);\n            break;\n          default:\n            console.error('unexpected setParam key');\n        }\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped>\n.mirador {\n  width: 100%;\n  height: 100%;\n  min-width: 480px;\n  min-height: 300px;\n}\n</style>\n","import { render } from \"./Mirador3.vue?vue&type=template&id=79158e6b&scoped=true\"\nimport script from \"./Mirador3.vue?vue&type=script&lang=js\"\nexport * from \"./Mirador3.vue?vue&type=script&lang=js\"\n\nimport \"./Mirador3.vue?vue&type=style&index=0&id=79158e6b&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/mkunten/dev/src/github.com/mkunten/textwg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-79158e6b\"]])\n\nexport default __exports__","<template>\n  <SideBar\n    style=\"width: 80%\"\n    v-model:visible=\"visibleRight\"\n    position=\"right\"\n    closeButton=\"true\"\n  >\n    <Accordion multiple :activeIndex=\"[0,1]\" lazy>\n      <AccordionTab header=\"TEI nodes viewer\">\n        <Card>\n          <template #content>\n            <AutoComplete\n              v-model=\"tnvFilter\"\n              :suggestions=\"tnvSuggestions\"\n              field=\"name\"\n              @complete=\"tnvSearch\"\n              @itemSelect=\"tnvOnSelected\"\n              autoHighlight\n              completeOnFocus\n              forceSelection\n              placeholder=\"input tag name or #xml:id\"\n            >\n              <template #item=\"slotProps\">\n                <div>\n                  {{ slotProps.item.name }}\n                  <template v-if=\"slotProps.item.count\">\n                    ({{ slotProps.item.count }})\n                  </template>\n                </div>\n              </template>\n            </AutoComplete>\n            <div style=\"margin-top: 1rem\">\n              <pre v-if=\"tnvSelected\">{{\n                this.jsonPrettify({\n                  type: 'element',\n                  name: 'data',\n                  elements: this.tnvResult,\n                })\n              }}</pre>\n              <span v-else>\n                no data (e.g. <code>witness</code>, <code>app</code>)\n              </span>\n            </div>\n          </template>\n        </Card>\n      </AccordionTab>\n      <AccordionTab header=\"Metadata\">\n        <Card>\n          <template #title>\n            <span class=\"text-sm\">Text</span>\n          </template>\n          <template #content>\n            <div class=\"text-sm\">\n              title: {{ this.selectedText.title }}<br />\n              manifestURI: <a class=\"text-sm\" target=\"_blank\"\n                :href=\"this.selectedText.manifestURI\">\n                {{ this.selectedText.manifestURI }}\n              </a>\n            </div>\n          </template>\n        </Card>\n        <Card>\n          <template #title>\n            <span class=\"text-sm\">TEI/XML</span>\n          </template>\n          <template #content>\n            <div class=\"text-sm\">\n              label: {{ this.selectedXML.label }}<br />\n              uri: <a class=\"text-sm\" target=\"_blank\"\n                :href=\"this.selectedXML.uri\">\n                {{ this.selectedXML.uri }}\n              </a>\n            </div>\n          </template>\n        </Card>\n      </AccordionTab>\n      <AccordionTab header=\"TEI Header\">\n        <Card>\n          <template #content>\n            <pre>{{\n              this.jsonPrettify(\n                this.xmlJsGetObjectByTagname(\n                  this.selectedXML.uri,\n                  'teiHeader',\n                ))\n            }}</pre>\n          </template>\n        </Card>\n      </AccordionTab>\n    </Accordion>\n  </SideBar>\n  <div>\n    <span>{{ this.selectedText.title }}</span>\n    <mdicon name=\"menu\" class=\"absolute right-0\"\n      @click=\"this.visibleRight = !this.visibleRight\" />\n  </div>\n  <TabView\n    v-model:activeIndex=\"tabActiveIndex\"\n    @tab-change=\"onTabChanged\"\n  >\n    <TabPanel\n      v-for=\"xml in selectedText.xmls\"\n      :key=\"xml.label\"\n      :header=\"xml.label\"\n    >\n      <ScrollPanel\n        style=\"width: 100%; height: 100%;\">\n        <Tei\n          v-if=\"data[xml.uri]\"\n          :el=\"this.data[xml.uri].xml.elements[0].elements[1]\"\n        />\n      </ScrollPanel>\n    </TabPanel>\n  </TabView>\n</template>\n\n<script>\nimport axios from 'axios';\nimport xmlJs from 'xml-js';\nimport Accordion from 'primevue/accordion';\nimport AccordionTab from 'primevue/accordiontab';\nimport AutoComplete from 'primevue/autocomplete';\nimport Card from 'primevue/card';\nimport ScrollPanel from 'primevue/scrollpanel';\nimport SideBar from 'primevue/sidebar';\nimport TabPanel from 'primevue/tabpanel';\nimport TabView from 'primevue/tabview';\nimport Tei from '@/components/Tei.vue';\n\nexport default {\n  name: 'TextViewer',\n\n  components: {\n    Accordion,\n    AccordionTab,\n    AutoComplete,\n    Card,\n    SideBar,\n    ScrollPanel,\n    TabPanel,\n    TabView,\n    Tei,\n  },\n\n  data() {\n    return {\n      visibleRight: false,\n      tabActiveIndex: 0,\n      selectedXMLIndex: null,\n      data: {}, // key: xml uri; value: xml2json object etc.\n      tnvFilter: '',\n      tnvSuggestions: [],\n      tnvSelected: '',\n    };\n  },\n\n  computed: {\n    m3() {\n      return this.$store.state.m3;\n    },\n    selectedText() {\n      return this.$store.state.selectedText;\n    },\n    selectedXML() {\n      if (this.selectedXMLIndex === null) {\n        return null;\n      }\n      return this.selectedText.xmls[this.selectedXMLIndex];\n    },\n    selectedData() {\n      if (this.selectedXML === null\n        || this.data[this.selectedXML.uri] === undefined) {\n        return null;\n      }\n      return this.data[this.selectedXML.uri];\n    },\n    tnvSuggestionsAll() {\n      return this.selectedData.tei.list\n        .concat(Object.keys(this.selectedData.tei.xmlIDs)\n          .map((name) => ({ name })));\n    },\n    tnvResult() {\n      if (this.tnvSelected.startsWith('#')) {\n        console.log(this.selectedData.tei.xmlIDs[this.tnvSelected]);\n        return [this.selectedData.tei.xmlIDs[this.tnvSelected]];\n      }\n      return this.xmlJsGetObjectsByTagname(this.selectedXML.uri,\n        this.tnvSelected);\n    },\n  },\n\n  watch: {\n    selectedText: {\n      handler() {\n        this.resetText();\n      },\n      deep: true,\n    },\n    selectedXMLIndex: {\n      handler(idx) {\n        if (idx !== null) {\n          this.loadXML();\n        }\n      },\n      deep: true,\n    },\n  },\n\n  provide() {\n    return {\n      getXMLIDs: () => this.selectedData.tei.xmlIDs,\n    };\n  },\n\n  methods: {\n    resetText() {\n      this.xmlLoaded = [];\n      this.selectedXMLIndex = null;\n      this.tabActiveIndex = 0;\n      this.$nextTick(() => {\n        this.selectedXMLIndex = 0;\n      });\n    },\n    onTabChanged(event) {\n      this.selectedXMLIndex = event.index;\n    },\n    async loadXML() {\n      const { uri } = this.selectedText.xmls[this.selectedXMLIndex];\n      if (!this.data[uri]) {\n        try {\n          const response = await axios.get(uri);\n          const data = xmlJs.xml2js(response.data, {\n            ignoreDeclaration: true,\n            ignoreInstruction: true,\n            ignoreComment: true,\n          });\n          this.data[uri] = this.xmlJsInit(data);\n        } catch (error) {\n          console.error('TextViewer: loadXML:', error);\n        }\n      }\n    },\n    // initialize a TEI object and create list of element names\n    xmlJsInit(obj) {\n      let id = 0;\n      const map = {};\n      const xmlIDs = {};\n      const walk = (obj0) => {\n        const obj1 = obj0;\n        obj1.elementID = id;\n        if (obj1.name) {\n          if (!map[obj1.name]) {\n            map[obj1.name] = 1;\n          } else {\n            map[obj1.name] += 1;\n          }\n        }\n        if (obj1.attributes && obj1.attributes['xml:id']) {\n          xmlIDs[`#${obj1.attributes['xml:id']}`] = obj1;\n        }\n        id += 1;\n        if (obj1.elements) {\n          obj1.elements.forEach((obj2) => {\n            walk(obj2);\n          });\n        }\n      };\n      walk(obj);\n\n      const list = Object.keys(map).sort().map((name) => ({\n        name,\n        count: map[name],\n      }));\n\n      console.info('tag list:', list, map, 'xml:id', xmlIDs);\n\n      return {\n        xml: obj,\n        tei: { list, xmlIDs, els: {} },\n      };\n    },\n    // find a element by a tagname\n    xmlJsGetObjectByTagname(uri, tagname) {\n      if (this.data[uri].tei.els[tagname] === undefined) {\n        this.xmlJsGetObjectsByTagnameInit(uri, tagname);\n      }\n      if (this.data[uri].tei.els[tagname].length > 0) {\n        return this.data[uri].tei.els[tagname][0];\n      }\n      return null;\n    },\n    // find elements by a tagname\n    xmlJsGetObjectsByTagname(uri, tagname) {\n      if (this.data[uri].tei.els[tagname] === undefined) {\n        this.xmlJsGetObjectsByTagnameInit(uri, tagname);\n      }\n      return this.data[uri].tei.els[tagname];\n    },\n    xmlJsGetObjectsByTagnameInit(uri, tagname) {\n      const r = [];\n      const walk = (obj) => {\n        if (!obj.elements) {\n          return;\n        }\n        obj.elements.forEach((o) => {\n          if (o.name === tagname) {\n            r.push(o);\n          } else {\n            walk(o);\n          }\n        });\n      };\n      walk(this.data[uri].xml);\n      this.data[uri].tei.els[tagname] = r;\n    },\n    // get prettified json string\n    jsonPrettify(obj) {\n      if (!obj) {\n        return '';\n      }\n      return xmlJs.json2xml(obj, {\n        spaces: 2,\n        fullTagEmptyElement: true,\n        indentCdata: true,\n        indentAttributes: true,\n      });\n    },\n    // convert json to string\n    xmlJsToText(obj) {\n      return obj.elements.reduce(this.xmlJsToTextWalk, '');\n    },\n    xmlJsToTextWalk(prev, curr) {\n      if (curr.type === 'text') {\n        return `${prev}${curr.text}`;\n      }\n      return curr.elements.reduce(this.xmlJsToTextWalk, prev);\n    },\n    // tnvSearch\n    tnvSearch(event) {\n      setTimeout(() => {\n        if (this.selectedXML === null\n          || this.data[this.selectedXML.uri] === undefined) {\n          return null;\n        }\n        this.tnvSuggestions = this.tnvSuggestionsAll.filter((item) => (\n          item.name.startsWith(event.query)\n        ));\n        return true;\n      }, 250);\n    },\n    // tnvOnSelected\n    tnvOnSelected(event) {\n      this.tnvSelected = event.value.name;\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"tategaki\">\n    <TeiNodes :el=\"this.el\" :parents=\"this.parents\" />\n  </div>\n</template>\n\n<script>\nimport TeiNodes from '@/components/TeiNodes.vue';\n\nexport default {\n  name: 'Tei',\n  components: {\n    TeiNodes,\n  },\n  props: {\n    el: { type: Object, default: null, required: true },\n    parents: { type: Array, default: () => [], required: false },\n  },\n  computed: {\n    selectedText() {\n      return this.$store.state.selectedText;\n    },\n  },\n  watch: {\n    el() {\n      console.debug(111, 'watch: el', this.el);\n    },\n  },\n  mounted() {\n    // ??: -1000 size got to be set with 'nextTick' or other...\n    setTimeout(() => {\n      if (this.$el !== null && this.parents.length === 0) {\n        const el = this.$el.parentNode;\n        if (el.scrollWidth !== 0) {\n          el.scrollLeft = el.scrollWidth;\n        }\n      }\n    }, 100);\n  },\n};\n</script>\n\n<style scoped>\n.tategaki {\n  text-align: left;\n  writing-mode: vertical-tb;\n  -webkit-writing-mode: vertical-tb;\n  -ms-writing-mode: vertical-tb;\n  writing-mode: vertical-rl;\n  -webkit-writing-mode: vertical-rl;\n  -ms-writing-mode: vertical-rl;\n  text-orientation: upright;\n}\n</style>\n","import { render } from \"./Tei.vue?vue&type=template&id=c9697106&scoped=true\"\nimport script from \"./Tei.vue?vue&type=script&lang=js\"\nexport * from \"./Tei.vue?vue&type=script&lang=js\"\n\nimport \"./Tei.vue?vue&type=style&index=0&id=c9697106&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/mkunten/dev/src/github.com/mkunten/textwg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9697106\"]])\n\nexport default __exports__","import { render } from \"./TextViewer.vue?vue&type=template&id=6fc3dc6a\"\nimport script from \"./TextViewer.vue?vue&type=script&lang=js\"\nexport * from \"./TextViewer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/mkunten/dev/src/github.com/mkunten/textwg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ImageViewer.vue?vue&type=template&id=83f8733e&scoped=true\"\nimport script from \"./ImageViewer.vue?vue&type=script&lang=js\"\nexport * from \"./ImageViewer.vue?vue&type=script&lang=js\"\n\nimport \"./ImageViewer.vue?vue&type=style&index=0&id=83f8733e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/mkunten/dev/src/github.com/mkunten/textwg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-83f8733e\"]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=4497e0b0\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/mkunten/dev/src/github.com/mkunten/textwg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router';\nimport Home from '../views/Home.vue';\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n  },\n  // {\n  //   path: '/about',\n  //   name: 'About',\n  //   // route level code-splitting\n  //   // this generates a separate chunk (about.[hash].js) for this route\n  //   // which is lazy-loaded when the route is visited.\n  //   component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue'),\n  // },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","export default {\n  accept: 'はい',\n  reject: 'いいえ',\n  choose: '選択',\n  upload: 'アップロード',\n  cancel: 'キャンセル',\n  dayNames: ['日曜日', '月曜日', '火曜日', '水曜日', '木曜日', '金曜日', '土曜日'],\n  dayNamesShort: ['日', '月', '火', '水', '木', '金', '土'],\n  dayNamesMin: ['日', '月', '火', '水', '木', '金', '土'],\n  monthNames: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\n  monthNamesShort: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\n  today: '今日',\n  clear: 'クリア',\n  weekHeader: '週',\n  firstDayOfWeek: 0,\n  dateFormat: 'yy/mm/dd',\n  weak: '弱い',\n  medium: '普通',\n  strong: '強い',\n  passwordPrompt: 'パスワードを入力',\n};\n","/* eslint-disable import/order */\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport store from './store';\nimport router from './router';\n\nimport mdiVue from 'mdi-vue/v3';\nimport * as mdijs from '@mdi/js';\nimport PrimeVue from 'primevue/config';\nimport Button from 'primevue/button';\nimport SelectButton from 'primevue/selectbutton';\nimport 'primevue/resources/themes/mdc-light-indigo/theme.css';\nimport 'primevue/resources/primevue.min.css';\nimport 'primeicons/primeicons.css';\nimport 'primeflex/primeflex.min.css';\n\n/* eslint-disable-next-line import/extensions */\nimport ja from '@/i18n/locale/ja.js';\n/* eslint-enable import/order */\n\n// app\ncreateApp(App)\n  .use(store)\n  .use(router)\n  .use(mdiVue, { icons: mdijs })\n  .use(PrimeVue, { locale: ja })\n  .component('Button', Button)\n  .component('SelectButton', SelectButton)\n  .mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Tei.vue?vue&type=style&index=0&id=c9697106&scoped=true&lang=css\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TeiNodes.vue?vue&type=style&index=0&id=e692c006&module=true&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TeiNodes.vue?vue&type=style&index=0&id=e692c006&module=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TeiApp.vue?vue&type=style&index=0&id=404c9a36&scoped=true&lang=css\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tei-pb\":\"TeiNodes_tei-pb_rvXqm\"};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ImageViewer.vue?vue&type=style&index=0&id=83f8733e&scoped=true&lang=css\"","<template>\n  <span\n    class=\"tei-lem\"\n    title=\"異読\"\n    :lem=\"lem\"\n    @click.prevent=\"toggleOlp\"\n  ><mdicon\n    name=\"information-outline\" size=\"18\"\n  /><TeiNodes\n    :el=\"this.lem\" :parents=\"this.childParents\"\n  /></span><OverlayPanel ref=\"op\">\n    <div class=\"tategaki\">\n      <div>\n        {{\n          this.formatLabel(this.lem.attributes.wit)\n        }}<TeiNodes :el=\"this.lem\" :parents=\"this.childParents\" />\n      </div>\n      <div\n        v-for=\"el in this.rdgs\"\n        :key=\"el.elementID\"\n      >\n        {{\n          this.formatLabel(el.attributes.wit)\n        }}<TeiNodes :el=\"el\" :parents=\"this.childParents\" />\n      </div>\n    </div>\n  </OverlayPanel>\n</template>\n\n<script>\nimport { defineAsyncComponent } from 'vue';\nimport OverlayPanel from 'primevue/overlaypanel';\n\nexport default {\n  name: 'TeiApp',\n  components: {\n    OverlayPanel,\n    TeiNodes: defineAsyncComponent(() => import('@/components/TeiNodes.vue')),\n  },\n\n  props: {\n    el: { type: Object, default: null, required: true },\n    parents: { type: Array, default: () => [], required: false },\n  },\n\n  computed: {\n    childParents() {\n      return this.$props.parents.concat('app');\n    },\n    lem() {\n      return this.$props.el.elements.find((el) => el.name === 'lem');\n    },\n    rdgs() {\n      return this.$props.el.elements.filter((el) => el.name === 'rdg');\n    },\n  },\n\n  methods: {\n    formatLabel(wit) {\n      return `【${wit.slice(1)}】`;\n    },\n    toggleOlp(event) {\n      this.$refs.op.toggle(event);\n      // firefox bug of width-culcuration timing?\n      if (window.navigator.userAgent.startsWith('Mozilla')) {\n        this.$nextTick(() => {\n          this.$refs.op.container.style.boxSizing = 'content-box';\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.tategaki {\n  text-align: left;\n  writing-mode: vertical-tb;\n  -webkit-writing-mode: vertical-tb;\n  -ms-writing-mode: vertical-tb;\n  writing-mode: vertical-rl;\n  -webkit-writing-mode: vertical-rl;\n  -ms-writing-mode: vertical-rl;\n  text-orientation: upright;\n}\n.tei-lem {\n  text-underline-position: right; /* required in Firefox */\n  text-decoration: underline dotted red;\n}\n</style>\n","import { render } from \"./TeiApp.vue?vue&type=template&id=404c9a36&scoped=true\"\nimport script from \"./TeiApp.vue?vue&type=script&lang=js\"\nexport * from \"./TeiApp.vue?vue&type=script&lang=js\"\n\nimport \"./TeiApp.vue?vue&type=style&index=0&id=404c9a36&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/mkunten/dev/src/github.com/mkunten/textwg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-404c9a36\"]])\n\nexport default __exports__","<script>\nimport {\n  resolveComponent,\n  toRef,\n  inject,\n  h,\n  useCssModule,\n} from 'vue';\nimport { useStore } from 'vuex';\nimport TeiApp from '@/components/TeiApp.vue';\n\nexport default {\n  name: 'TeiNodes',\n\n  components: {\n    TeiApp,\n  },\n\n  props: {\n    el: { type: Object, default: null, required: true },\n    parents: { type: Array, default: () => [], required: false },\n  },\n\n  setup(props) {\n    // store\n    const store = useStore();\n\n    // style\n    const style = useCssModule();\n\n    // components\n    const mdicon = resolveComponent('mdicon');\n    const TeiNodes = resolveComponent('TeiNodes');\n\n    // enum\n    const URI_TYPE = {\n      RAW_IMAGE: 'raw_image',\n      IIIF_IMAGE: 'IIIF_image',\n      CANVAS_ID: 'canvasId',\n      KOTENSEKI_NIJL: 'kotenseki_nijl',\n      OHTER: 'other',\n    };\n\n    // props\n    const elRef = toRef(props, 'el');\n    const parentsRef = toRef(props, 'parents');\n\n    // inject\n    const getXMLIDs = inject('getXMLIDs');\n\n    // methods\n    const renderChild = (el) => h(\n      TeiNodes,\n      {\n        el,\n        parents: parentsRef.value.concat(elRef.value.name),\n      },\n    );\n\n    const descernURI = (uri) => {\n      if (/\\.(jpg|png|tiff?)\\/.*?\\/.*?\\/.*?\\/.*\\.(jpg|png|tiff?)$/i\n        .test(uri)) {\n        return { type: URI_TYPE.IIIF_IMAGE };\n      }\n      if (/\\.(jpg|png|tiff?)$/i.test(uri)) {\n        return { type: URI_TYPE.RAW_IMAGE };\n      }\n      if (/\\/canvas\\/.*?$/.test(uri)) {\n        return { type: URI_TYPE.CANVAS_ID };\n      }\n      if (/\\/\\/kotenseki\\.nijl\\.ac\\.jp\\/biblio\\/\\d+\\/viewer\\/(\\d+)$/.test(uri)) {\n        return {\n          type: URI_TYPE.KOTENSEKI_NIJL,\n          seqIdx: parseInt(RegExp.$1, 10) - 1,\n        };\n      }\n      if (/\\/\\/www\\.iiif\\.ku-orcas\\.kansai-u\\.ac\\.jp\\/iiif\\/.*\\/page(\\d+)$/.test(uri)) {\n        const n = parseInt(RegExp.$1, 10);\n        // maybe a mistake in encoding TEI/XML\n        if (n >= 2805960) {\n          const s = `0000${n - 2805916}`.slice(-4);\n          console.log({\n            type: URI_TYPE.CANVAS_ID,\n            canvasId: uri.replace(/\\d+$/, s),\n          });\n          return {\n            type: URI_TYPE.CANVAS_ID,\n            canvasId: uri.replace(/\\d+$/, s),\n          };\n        }\n        return { type: URI_TYPE.CANVAS_ID };\n      }\n      return { type: URI_TYPE.OTHER };\n    };\n\n    const jumpToByCanvasId = (canvasId) => {\n      store.dispatch('setM3Param', {\n        key: 'canvasId',\n        value: canvasId,\n      });\n    };\n\n    const jumpToBySeqIdx = (seqIdx) => {\n      store.dispatch('setM3Param', {\n        key: 'seqIdx',\n        value: seqIdx,\n      });\n    };\n\n    const createVNodeByURI = (uri) => {\n      const r = descernURI(uri);\n      switch (r.type) {\n        case URI_TYPE.CANVAS_ID: {\n          return h(\n            mdicon,\n            {\n              name: 'book-open-page-variant-outline',\n              title: 'ビューワ上で移動',\n              onClick: (e) => {\n                jumpToByCanvasId(r.canvasId || elRef.value.attributes.n);\n                e.preventDefault();\n              },\n            },\n          );\n        }\n        case URI_TYPE.KOTENSEKI_NIJL: {\n          return [\n            h(\n              'a',\n              {\n                target: '_blank',\n                title: '外部サイトを開く',\n                href: elRef.value.attributes.facs,\n              },\n              h(mdicon, { name: 'open-in-new' }),\n            ), h(\n              mdicon,\n              {\n                name: 'book-open-page-variant-outline',\n                title: 'ビューア上で移動',\n                onClick: (e) => {\n                  jumpToBySeqIdx(r.seqIdx);\n                  e.preventDefault();\n                },\n              },\n            ),\n          ];\n        }\n        case URI_TYPE.RAW_IMAGE:\n        case URI_TYPE.IIIF_IMAGE: {\n          return h(\n            'a',\n            {\n              target: '_blank',\n              title: '画像を開く',\n              href: elRef.value.attributes.facs,\n            },\n            h(mdicon, { name: 'file-image-outline' }),\n          );\n        }\n        case URI_TYPE.OTHER: {\n          return h(\n            'a',\n            {\n              target: '_blank',\n              title: '外部サイトを開く',\n              href: elRef.value.attributes.facs,\n            },\n            h(mdicon, { name: 'open-in-new' }),\n          );\n        }\n        default: {\n          return null;\n        }\n      }\n    };\n\n    const getClassName = () => style[`tei-${elRef.value.name}`];\n\n    // render\n    let vnodes = null;\n\n    switch (elRef.value.type) {\n      case 'text':\n        if (elRef.value.text) {\n          vnodes = h('span', elRef.value.text);\n        }\n        break;\n      case 'element':\n        switch (elRef.value.name) {\n          case 'pb':\n            vnodes = [h('br')];\n            if (elRef.value.attributes.n) {\n              vnodes.push(h(\n                'span',\n                { class: getClassName() },\n                `【${elRef.value.attributes.n}】`,\n              ));\n            }\n            if (elRef.value.attributes.facs) {\n              const n = createVNodeByURI(elRef.value.attributes.facs);\n              if (n) {\n                vnodes.push(n);\n              }\n            }\n            if (elRef.value.attributes.source) {\n              const source = getXMLIDs()[elRef.value.attributes.source];\n              if (source) {\n                const n = createVNodeByURI(source.attributes.source);\n                if (n) {\n                  vnodes.push(n);\n                }\n              }\n            }\n            break;\n          case 'lb':\n            vnodes = h('br', { class: getClassName() });\n            break;\n          case 'graphic':\n            if (elRef.value.attributes.n) {\n              vnodes = createVNodeByURI(elRef.value.attributes.n);\n            }\n            break;\n          case 'app':\n            vnodes = h(\n              TeiApp,\n              {\n                el: elRef.value,\n                parents: parentsRef.value,\n              },\n            );\n            break;\n          default:\n            if (elRef.value.elements) {\n              vnodes = elRef.value.elements.map((el) => renderChild(el));\n            }\n            break;\n        }\n        break;\n      case 'cdata':\n        break;\n      case 'comment':\n        break;\n      default:\n        // eslint-disable-next-line\n        console.error('TeiNodes: unexpected type:', elRef.value);\n        break;\n    }\n    return () => vnodes;\n  },\n};\n</script>\n\n<style module>\n.tei-pb {\n  color: grey;\n}\n</style>\n","import script from \"./TeiNodes.vue?vue&type=script&lang=js\"\nexport * from \"./TeiNodes.vue?vue&type=script&lang=js\"\n\nconst cssModules = {}\nimport style0 from \"./TeiNodes.vue?vue&type=style&index=0&id=e692c006&module=true&lang=css\"\ncssModules[\"$style\"] = style0\n\nimport exportComponent from \"/home/mkunten/dev/src/github.com/mkunten/textwg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__cssModules',cssModules]])\n\nexport default __exports__"],"sourceRoot":""}